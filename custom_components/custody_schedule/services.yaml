set_manual_dates:
  name: Définir des dates manuelles
  description: Ajoute des périodes ponctuelles de présence.
  fields:
    entry_id:
      description: ID de l'intégration (visible dans les paramètres).
      example: 1234567890abcdef1234567890abcdef
    dates:
      description: Liste de périodes à appliquer.
      example:
        - start: "2024-02-09T18:00:00+01:00"
          end: "2024-02-12T19:30:00+01:00"
          label: "Vacances chez papa"

override_presence:
  name: Forcer la présence
  description: Force l'état présent/absent pour une durée donnée.
  fields:
    entry_id:
      description: ID de l'intégration (visible dans les paramètres).
      example: 1234567890abcdef1234567890abcdef
    state:
      description: on = présent, off = absent.
      example: "on"
    duration:
      description: Durée en minutes (optionnel).
      example: 120

refresh_schedule:
  name: Recalculer le planning
  description: Déclenche immédiatement un recalcul.
  fields:
    entry_id:
      description: ID de l'intégration (visible dans les paramètres).
      example: 1234567890abcdef1234567890abcdef

test_holiday_api:
  name: Tester l'API des vacances scolaires
  description: Teste la connexion à l'API des vacances scolaires et affiche les résultats dans les logs.
  fields:
    entry_id:
      description: ID de l'intégration (optionnel, utilise la config de cette intégration).
      example: 1234567890abcdef1234567890abcdef
    zone:
      description: Zone scolaire à tester (A, B, C, Corse, etc.).
      example: "A"
      default: "A"
    year:
      description: Année scolaire au format "2024-2025" (optionnel, utilise l'année actuelle si non spécifié).
      example: "2024-2025"

export_exceptions:
  name: Exporter les exceptions
  description: Exporte les exceptions (ponctuelles + récurrentes) vers un fichier JSON.
  fields:
    entry_id:
      description: ID de l'intégration (visible dans les paramètres).
      example: 1234567890abcdef1234567890abcdef
    filename:
      description: Nom du fichier dans /config/www (optionnel).
      example: "custody_exceptions.json"

import_exceptions:
  name: Importer des exceptions
  description: Importe des exceptions depuis un fichier JSON ou un payload.
  fields:
    entry_id:
      description: ID de l'intégration (visible dans les paramètres).
      example: 1234567890abcdef1234567890abcdef
    filename:
      description: Nom du fichier dans /config/www (optionnel).
      example: "custody_exceptions.json"
    exceptions:
      description: Liste d'exceptions ponctuelles (optionnel).
    recurring:
      description: Liste d'exceptions récurrentes (optionnel).

export_planning_pdf:
  name: Exporter le planning en PDF
  description: Exporte le planning (périodes de garde) dans un fichier PDF.
  fields:
    entry_id:
      description: ID de l'intégration (visible dans les paramètres).
      example: 1234567890abcdef1234567890abcdef
    start:
      description: Date/heure de début (optionnel, ISO 8601).
      example: "2026-01-01T00:00:00+01:00"
    end:
      description: Date/heure de fin (optionnel, ISO 8601).
      example: "2026-02-01T00:00:00+01:00"
    filename:
      description: Nom du fichier PDF dans /config/www (optionnel).
      example: "custody_planning.pdf"
